{"version":3,"names":["React","forwardRef","useEffect","useMemo","useState","Platform","TextInput","View","majorVersionIOS","parseInt","Version","isOTPSupported","OS","OtpInput","ref","autoFocus","focusStyles","handleKeyPress","handleTextChange","inputContainerStyles","inputStyles","inputValue","placeholder","selectTextOnFocus","secureTextEntry","rest","focused","setFocused","current","setNativeProps","value","text","restProps","select","default","web","ios","android","memo"],"sources":["OtpInput.tsx"],"sourcesContent":["import React, { forwardRef, RefObject, useEffect, useMemo, useState } from 'react';\nimport {\n  NativeSyntheticEvent,\n  Platform,\n  StyleProp,\n  TextInput,\n  TextInputKeyPressEventData,\n  TextInputProps,\n  TextStyle,\n  View,\n  ViewStyle,\n} from 'react-native';\n\ntype Props = TextInputProps & {\n  inputContainerStyles?: StyleProp<ViewStyle>;\n  firstInput: boolean;\n  focusStyles?: StyleProp<ViewStyle>;\n  inputStyles?: StyleProp<TextStyle>;\n  numberOfInputs: number;\n  handleTextChange: (text: string) => void;\n  inputValue: string;\n  handleKeyPress: (keyPressEvent: NativeSyntheticEvent<TextInputKeyPressEventData>) => void;\n};\n\nconst majorVersionIOS: number = parseInt(`${Platform.Version}`, 10);\nconst isOTPSupported: boolean = Platform.OS === 'ios' && majorVersionIOS >= 12;\n\nconst OtpInput = forwardRef<TextInput, Props>(\n  (\n    {\n      autoFocus,\n      focusStyles,\n      handleKeyPress,\n      handleTextChange,\n      inputContainerStyles,\n      inputStyles,\n      inputValue,\n      placeholder,\n      selectTextOnFocus,\n      secureTextEntry,\n      ...rest\n    },\n    ref,\n  ) => {\n    const [focused, setFocused] = useState(false);\n\n    useEffect(() => {\n      (ref as RefObject<TextInput>)?.current?.setNativeProps({\n        value: inputValue,\n        text: inputValue,\n        secureTextEntry,\n      });\n    }, [ref, inputValue, secureTextEntry]);\n\n    const restProps = useMemo(\n      () =>\n        Platform.select({\n          default: rest,\n          web: { value: inputValue, ...rest },\n        }),\n      [inputValue, rest],\n    );\n\n    return (\n      // @ts-expect-error\n      <View style={[inputContainerStyles, focused && focusStyles]}>\n        {/* @ts-expect-error */}\n        <TextInput\n          autoFocus={autoFocus}\n          onBlur={() => setFocused(false)}\n          onChangeText={handleTextChange}\n          onFocus={() => setFocused(true)}\n          onKeyPress={handleKeyPress}\n          placeholder={placeholder}\n          ref={ref}\n          secureTextEntry={secureTextEntry}\n          // https://github.com/facebook/react-native/issues/18339\n          selectTextOnFocus={Platform.select({\n            ios: selectTextOnFocus,\n            android: true,\n          })}\n          style={inputStyles}\n          textContentType={isOTPSupported ? 'oneTimeCode' : 'none'}\n          underlineColorAndroid=\"transparent\"\n          {...restProps}\n        />\n      </View>\n    );\n  },\n);\n\nexport default React.memo(OtpInput);\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAAuCC,SAAvC,EAAkDC,OAAlD,EAA2DC,QAA3D,QAA2E,OAA3E;AACA,SAEEC,QAFF,EAIEC,SAJF,EAQEC,IARF,QAUO,cAVP;AAuBA,MAAMC,eAAuB,GAAGC,QAAQ,CAAE,GAAEJ,QAAQ,CAACK,OAAQ,EAArB,EAAwB,EAAxB,CAAxC;AACA,MAAMC,cAAuB,GAAGN,QAAQ,CAACO,EAAT,KAAgB,KAAhB,IAAyBJ,eAAe,IAAI,EAA5E;AAEA,MAAMK,QAAQ,gBAAGZ,UAAU,CACzB,OAcEa,GAdF,KAeK;EAAA,IAdH;IACEC,SADF;IAEEC,WAFF;IAGEC,cAHF;IAIEC,gBAJF;IAKEC,oBALF;IAMEC,WANF;IAOEC,UAPF;IAQEC,WARF;IASEC,iBATF;IAUEC,eAVF;IAWE,GAAGC;EAXL,CAcG;EACH,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBvB,QAAQ,CAAC,KAAD,CAAtC;EAEAF,SAAS,CAAC,MAAM;IAAA;;IACbY,GAAD,aAACA,GAAD,mCAACA,GAAD,CAA+Bc,OAA/B,sDAAwCC,cAAxC,CAAuD;MACrDC,KAAK,EAAET,UAD8C;MAErDU,IAAI,EAAEV,UAF+C;MAGrDG;IAHqD,CAAvD;EAKD,CANQ,EAMN,CAACV,GAAD,EAAMO,UAAN,EAAkBG,eAAlB,CANM,CAAT;EAQA,MAAMQ,SAAS,GAAG7B,OAAO,CACvB,MACEE,QAAQ,CAAC4B,MAAT,CAAgB;IACdC,OAAO,EAAET,IADK;IAEdU,GAAG,EAAE;MAAEL,KAAK,EAAET,UAAT;MAAqB,GAAGI;IAAxB;EAFS,CAAhB,CAFqB,EAMvB,CAACJ,UAAD,EAAaI,IAAb,CANuB,CAAzB;EASA;IAAA;IACE;IACA,oBAAC,IAAD;MAAM,KAAK,EAAE,CAACN,oBAAD,EAAuBO,OAAO,IAAIV,WAAlC;IAAb,gBAEE,oBAAC,SAAD;MACE,SAAS,EAAED,SADb;MAEE,MAAM,EAAE,MAAMY,UAAU,CAAC,KAAD,CAF1B;MAGE,YAAY,EAAET,gBAHhB;MAIE,OAAO,EAAE,MAAMS,UAAU,CAAC,IAAD,CAJ3B;MAKE,UAAU,EAAEV,cALd;MAME,WAAW,EAAEK,WANf;MAOE,GAAG,EAAER,GAPP;MAQE,eAAe,EAAEU,eARnB,CASE;MATF;MAUE,iBAAiB,EAAEnB,QAAQ,CAAC4B,MAAT,CAAgB;QACjCG,GAAG,EAAEb,iBAD4B;QAEjCc,OAAO,EAAE;MAFwB,CAAhB,CAVrB;MAcE,KAAK,EAAEjB,WAdT;MAeE,eAAe,EAAET,cAAc,GAAG,aAAH,GAAmB,MAfpD;MAgBE,qBAAqB,EAAC;IAhBxB,GAiBMqB,SAjBN,EAFF;EAFF;AAyBD,CA7DwB,CAA3B;AAgEA,4BAAehC,KAAK,CAACsC,IAAN,CAAWzB,QAAX,CAAf"}